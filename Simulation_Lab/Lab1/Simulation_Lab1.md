\## Комп'ютерні системи імітаційного моделювання

\## СПм-24-3, \*\*Амосов Дмитро Олександрович\*\*

\### Лабораторна робота №\*\*1\*\*. Опис імітаційних моделей та проведення обчислювальних експериментів



<br>



\### Варіант 1, модель у середовищі NetLogo:

\[Traffic Grid](http://www.netlogoweb.org/launch#http://www.netlogoweb.org/assets/modelslib/Sample%20Models/Social%20Science/Traffic%20Grid.nlogo)



<br>



\### Вербальний опис моделі:

Симуляція руху автомобілів у міській сітці доріг, що регулюється світлофорами. Кожен автомобіль є агентом, який рухається по дорогах, дотримуючись наступних правил: зупиняється на червоне світло та перед автомобілем, що стоїть попереду. Світлофори на перехрестях перемикаються автоматично з певною періодичністю або можуть бути вимкнені. Модель демонструє взаємозв'язок між щільністю трафіку, роботою світлофорів та виникненням заторів.



<br>



\### Керуючі параметри:

\- \*\*grid-size-x\*\* та \*\*grid-size-y\*\* визначають кількість доріг (розмір сітки кварталів) по горизонталі та вертикалі відповідно.

\- \*\*num-cars\*\* визначає кількість агентів (автомобілів) у середовищі моделювання.

\- \*\*power?\*\* перемикач, що вмикає або вимикає роботу світлофорів. Якщо вимкнено — світлофори не працюють (вільний рух з обох напрямів), і машини керуються лише правилом "перешкоди попереду".

\- \*\*ticks-per-cycle\*\* визначає частоту зміни сигналів світлофора (тривалість циклу "зелений-червоний").

\- \*\*speed-limit\*\* обмеження максимальної швидкості руху для всіх автомобілів.



<br>



\### Внутрішні параметри:

\- \*\*acceleration\*\*. Константа прискорення. Визначає, наскільки швидко машина набирає або скидає швидкість.

\- \*\*speed\*\*. Поточна швидкість агента.

\- \*\*wait-time\*\*. Час очікування. Лічильник тактів, протягом яких машина стоїть на місці (швидкість = 0).

\- \*\*phase\*\*. Поточна фаза циклу світлофора, спільна для синхронізації перемикання.

\- \*\*num-cars-stopped\*\*. Глобальний лічильник кількості машин, що стоять у поточному такті.



<br>



\### Показники роботи системи:

\- \*\*Stopped Cars\*\* — кількість автомобілів, швидкість яких дорівнює 0 на даному такті.

\- \*\*Average Speed\*\* — середня швидкість усіх автомобілів.

\- \*\*Average Wait Time\*\* — середній час очікування автомобілів у заторі.



<br>



\### Примітки:

Автомобілі не повертають на перехрестях, вони рухаються тільки прямо (або горизонтально, або вертикально). При виникненні затору машини можуть блокувати перехрестя, якщо світлофори вимкнені.



<br>



\### Недоліки моделі:

Відсутність можливості поворотів робить модель спрощеною ("Манхеттенський" рух без зміни напрямку). Гальмування відбувається різко, якщо попереду є перешкода, без плавного зниження швидкості.



<br>

<br>



\## Обчислювальні експерименти



\### 1. Вплив кількості автомобілів на кількість заторів

Досліджується залежність кількості зупинених машин (`num-cars-stopped`) від загальної кількості машин у місті (`num-cars`).

Експерименти проводяться при увімкнених світлофорах (`power? = On`) та стандартному циклі перемикання.

Тривалість однієї симуляції: 500 тактів.



Інші керуючі параметри:

\- \*\*grid-size-x\*\*: 5

\- \*\*grid-size-y\*\*: 5

\- \*\*ticks-per-cycle\*\*: 20

\- \*\*speed-limit\*\*: 1.0



<table>

<thead>

<tr><th>Кількість автомобілів (num-cars)</th><th>Середня кількість зупинених авто</th></tr>

</thead>

<tbody>

<tr><td>50</td><td>20</td></tr>

<tr><td>100</td><td>45</td></tr>

<tr><td>150</td><td>75</td></tr>

<tr><td>200</td><td>130</td></tr>

<tr><td>250</td><td>210 (майже повний колапс)</td></tr>

</tbody>

</table>



!\[Залежність зупинених машин від їх кількості](fig1.png)



Графік показує експоненціальне зростання кількості зупинених машин. Після досягнення критичної маси (близько 200 авто для даної сітки), система входить у стан "gridlock" (транспортний колапс), де рух майже припиняється.



<br>



\### 2. Вплив частоти перемикання світлофорів на середню швидкість

Досліджується, як параметр `ticks-per-cycle` впливає на ефективність трафіку при фіксованій кількості машин (150 шт). Тривалість однієї симуляції: 500 тактів.



Параметри:

\- \*\*grid-size-x\*\*: 5

\- \*\*grid-size-y\*\*: 5

\- \*\*num-cars\*\*: 150

\- \*\*speed-limit\*\*: 1.0

\- \*\*power?\*\*: On



<table>

<thead>

<tr><th>Ticks per cycle</th><th>Cередня швидкість</th></tr>

</thead>

<tbody>

<tr><td>5</td><td>0.2</td></tr>

<tr><td>10</td><td>0.25</td></tr>

<tr><td>20</td><td>0.35</td></tr>

<tr><td>40</td><td>0.45</td></tr>

<tr><td>80</td><td>0.4</td></tr>

</tbody>

</table>



!\[Залежність частоти перемикання світлофорів і середньої швидкості](fig2.png)



Результати показують, що занадто часте перемикання (5-10 тактів) змушує машини постійно гальмувати, не встигаючи розігнатися, окрім цього завжди виникали затори повністю блокуючі рух. Занадто довгий цикл (80+) створює довгі черги, які не встигають розсмоктатися за зелене світло. Оптимальне значення знаходиться в межах 30-50 тактів.



<br>



\### 3. Порівняння регульованого та нерегульованого перехрестя

Перевірка гіпотези про те, що при малій кількості машин світлофори лише заважають руху, а при великій — є необхідними.

Порівнюємо середню швидкість при `power? = On` та `power? = Off`. Тривалість однієї симуляції: 500 тактів.



Параметри:

\- \*\*grid-size-x\*\*: 5

\- \*\*grid-size-y\*\*: 5

\- \*\*num-cars\*\*: 150

\- \*\*ticks-per-cycle\*\*: 40

\- \*\*speed-limit\*\*: 1.0



<table>

<thead>

<tr><th>Кількість авто</th><th>Регульовані</th><th>Нерегульовані</th></tr>

</thead>

<tbody>

<tr><td>50</td><td>0.55</td><td>0.85</td></tr>

<tr><td>200</td><td>0.25</td><td>0.1</td></tr>

</tbody>

</table>



!\[Регульовані та нерегульовані перехрестя](fig3.png)



При низькому завантаженні доріг вимкнення світлофорів збільшує середню швидкість, оскільки машини не чекають на пустих перехрестях, але це призводить до великої кількості зіткнень. При високому завантаженні відсутність світлофорів призводить до того, що машини блокують одна одну посеред перехрестя, створюючи "мертві" затори, які неможливо розв'язати без зовнішнього втручання.

